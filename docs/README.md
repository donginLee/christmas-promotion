# 크리스마스 프로모션
## 1. 개괄
위 프로그램은 12월 방문 날짜와 주문할 메뉴를 입력하면,
주문 및 혜택 정보(
    주문메뉴,
    할인 전 총 주문 금액,
    증정 메뉴, 해택 내역,
    총 혜택 금액,
    할인 후 예상 결제 금액,
    증정되는 12월 이벤트 배지) 가 제공되는 프로그램이다.

## 2. 설명
### (0) 공통
1. InputView 객체 안에 인풋을 받는 함수를 모아둔다.
    ```
    InputView = {
    async readDate() {
        const input = await Console.readLineAsync("12월 중 식당 예상 방문 날짜는 언제인가요? (숫자만 입력해 주세요!)");
        // ...
    },
    // ...
    };
    ```
2. OutputView 객체 안에 문구를 출력하는 함수를 모아둔다.
    ```
    export default OutputView = {
    printMenu() {
        Console.print("<주문 메뉴>");
        // ...
    },
    // ...
    };
    ```
### (1) 자기소개
- 동작 예시 
    ```
    안녕하세요! 우테코 식당 12월 이벤트 플래너입니다.
    ```
- 구현
    1. '안녕하세요! 우테코 식당 12월 이벤트 플래너입니다.' 를 출력하기
        - 방법
            - 2.(0).<2> 에서 만든 `OutputView`에 함수를 만들어 출력한다.
            - EX ) `OutputView.introduction()`

### (2) 방문 날짜 입출력 및 예외처리
- 동작 예시
    ```
    12월 중 식당 예상 방문 날짜는 언제인가요? (숫자만 입력해 주세요!)
    ```

    ```
    12월 중 식당 예상 방문 날짜는 언제인가요? (숫자만 입력해 주세요!)
    3
    ```
- 구현
    1. '12월 중 식당 예상 방문 날짜는 언제인가요? (숫자만 입력해 주세요!)'를 출력하고 입력 받기
        - 방법
            - 2.(0).<1> 에서 만든 `InputView`에 함수를 만들어 입력을 받는다.
            - EX ) `InputView.readDates()`
        - 예외 처리
            - 식당 예상 방문 날짜 변수 를 관리하는 클래스(이하 날짜 클래스)를 만들어 예외 처리한다.
                - EX ) `Dates` 클래스
            - 1 이상 31 이하의 자연수가 아니면 에러를 발생시키고 `[ERROR] 유효한 날짜가 아닙니다.`라는 에러 메시지를 출력한다.
### (3) 주문 예정 메뉴 및 개수 입출력 및 예외처리
- 동작 예시
    ```
    주문하실 메뉴를 메뉴와 개수를 알려 주세요. (e.g. 해산물파스타-2,레드와인-1,초코케이크-1)
    ```

    ```
    주문하실 메뉴를 메뉴와 개수를 알려 주세요. (e.g. 해산물파스타-2,레드와인-1,초코케이크-1)
    티본스테이크-1,바비큐립-1,초코케이크-2,제로콜라-1
    ```
- 구현
    1. '주문하실 메뉴를 메뉴와 개수를 알려 주세요. (e.g. 해산물파스타-2,레드와인-1,초코케이크-1)'를 출력하고 입력 받기
        - 방법
            - 2.(0).<1> 에서 만든 `InputView`에 함수를 만들어 입력을 받는다.
            - EX ) `InputView.readOrder()`
        - 예외 처리
            - 주문 메뉴를 관리하는 클래스(이하 주문서 클래스)를 만들어 문자열을 객체 형태의 메뉴로 바꾸고 예외 처리한다.
            - EX ) `Order` 클래스

### (4) 혜택 처리 및 미리보기 출력
#### (4) 공통 
1. 제목화 함수를 만들어 제목을 입력하면 '<$제목>' 형태의 문자열을 반환하는 함수를 만든다.
    - EX ) `wrapInBracketsWithTitle('주문 내역'); // '<주문 메뉴>' 반환`
2. 금액을 입력하면 금액 문자열을 반환하는 함수를 만든다.
    - EX ) `formatCurrencyToWon(1000); // '1,000원' 반환
3. 혜택 내역과 관련된 변수와 메서드를 관리하는 클래스를 만든다.
    - EX ) `BenefitManger`
#### (4)-1 혜택 미리보기 예고 문구 출력
- 동작 예시
    ```
    12월 3일에 우테코 식당에서 받을 이벤트 혜택 미리 보기!
    ```
- 구현
    1. '1월 3일에 우테코 식당에서 받을 이벤트 혜택 미리 보기!' 를 출력하기
        - 방법
            - 2.(0).<2> 에서 만든 `OutputView`에 함수를 만들어 출력한다.
            - EX ) `OutputView.showBenefit()`

#### (4)-2 주문 메뉴 출력
- 동작 예시
    ```
    <주문 메뉴>
    티본스테이크 1개
    바비큐립 1개
    초코케이크 2개
    제로콜라 1개
    ```
- 구현
    1. 제목과 주문서 내용을 출력하기
        - 방법
            - 제목으로 사용할 문자열과 주문서 객체를 인수로 받아 문구를 출력하는 함수를, 2.(0).<2> 에서 만든 `OutputView`에 만든다.
            - EX ) `OutputView.showOrder('주문 메뉴', Order.order)`
#### (4)-3 할인 전 총 주문 금액 출력
- 동작 예시
    ```
    <할인 전 총주문 금액>
    8,500원
    ```
- 구현
    1. 총 주문 금액 계산하기
        - 방법
            - 메뉴 객체와 주문서 객체를 인수로 받아 할인 전 총 주문 금액을 계산하여 반환하는 함수를 만든다.
            - EX ) `calculateTotalOrderAmountBeforeDiscount(MENU, ORDER);`
        - 로직
            (생략)
        - 예외 처리
            - 첫 번째 인수가 메뉴 클래스 타입이 아닌 경우 에러를 발생시키고, `[ERROR] 유효한 메뉴가 아닙니다. 관리자에게 문의하세요.`라는 에러 메시지를 출력한다.
            - 두 번째 인수가 주문서 클래스 타입이 아닌 경우 에러를 발생시키고, `[ERROR] 유효한 주문서가 아닙니다. 관리자에게 문의하세요.`라는 에러 메시지를 출력한다.
    2. 제목과 할인 전 총 주문 금액 출력하기
        - 방법
            - 제목으로 사용할 문자열과 주문서 객체를 인수로 받아 문구를 출력하는 함수를, 2.(0).<2> 에서 만든 `OutputView`에 만든다.
            - EX ) `OutputView.showOrder('할인 전 총 주문 금액',priceString); // priceString = '8,500원'`
        - 예외 처리
            - 첫 번째 인수가 문자열 타입이 아닌 경우 에러를 발생시키고, `[ERROR] showOrder 첫 번째 인수 오류, 관리자에게 문의하세요.`라는 에러 메시지를 출력한다.
            - 두 번째 인수가 문자열 타입이 아닌 경우 에러를 발생시키고, `[ERROR] showOrder 두 번째 인수 오류, 관리자에게 문의하세요.`라는 에러 메시지를 출력한다.
#### (4)-4 증정 메뉴 출력
- 동작 예시
    ```
    <증정 메뉴>
    샴페인 1개
    ```
    또는
    ```
    <증정 메뉴>
    없음
    ```
- 구현
    0. 증정 메뉴 증정 여부 판단하기
        - 방법
            - 2.(4)-5.<1>.4에서 함수를 실행하여 증정 메뉴 증정 여부 boolean 값을 받는다.

    1. 제목과 증정 메뉴 출력하기
        - 방법
            - 제목으로 사용할 문자열과 증정 여부 boolean 값을 인수로 받아 문구로 출력하는 함수를 2.(0).<2>에서 만든 `OutputView`에 만든다.
            - EX ) `OutputView.showGiftMenu('증정 메뉴', true);
        - 예외 처리
            - 첫 번째 인수가 문자열 타입이 아닌 경우 에러를 발생시키고, `[ERROR] showGiftMenu 첫 번째 인수 오류, 관리자에게 문의하세요.`라는 에러 메시지를 출력한다.
            - 두 번째 인수가 문자열 타입이 아닌 경우 에러를 발생시키고, `[ERROR] showGiftMenu 두 번째 인수 오류, 관리자에게 문의하세요.`라는 에러 메시지를 출력한다.

#### (4)-5 혜택 내역 출력
- 동작 예시 
    ```
    <혜택 내역>
    크리스마스 디데이 할인: -1,200원
    평일 할인: -4,046원
    특별 할인: -1,000원
    증정 이벤트: -25,000원
    ```
    또는 
    ```
    <혜택 내역>
    없음
    ```
- 구현
    1. 혜택 내역 계산하기 
        (1) 크리스마스 할인 혜택 계산하기
            - 방법
                - 날짜를 받아 할인 금액을 반환하는 함수 만들기
                - EX ) calculateXmasDdayDiscount(17); // 2600
            - 로직
                - 1일에 1,000원으로 시작하여 크리스마스가 다가올 수록 날마다 할인 금액이 100원씩 증가
            - 예외 처리
                - 1 이상 31 이하 자연수가 아닌 입력이 들어오면 에러를 발생시키고, `[ERROR] 유효하지 않은 날짜입니다. 관리자에게 문의하세요.`라는 에러 메시지를 출력한다.
        (2) 평일 / 주말 할인 혜택 계산하기
            - 방법
                - 날짜 클래스 인스턴스와 주문서 클래스 인스턴스의 주문서를 받아 할인 금액을 반환하는 함수 만들기
                - EX ) calculateWeekdayOrWeekendDiscount(dates, order); // dates는 날짜 클래스 인스턴스, order는 주문서 클래스 인스턴스
            - 로직
                - 날짜를 받아 주말인지 평일인지 판단하고,
                    &rarr; 주말인 경우, 메인 메뉴 1개 당 2,023원 할인
                    &rarr; 평일인 경우, 디저트 메뉴 1개당 2,023원 할인
            - 예외 처리
                - 첫 번째 인수가 날짜 클래스 인스턴스가 아닌 경우, `[ERROR] 유효하지 않은 주말/평일 판단 여부입니다. 관리자에게 문의하세요.`라는 에러 메시지를 출력한다.
                - 두 번째 인수가 주문서 클래스 인스턴스가 아닌 경우, `[ERROR] 유효하지 않은 주문서 타입입니다. 관리자에게 문의하세요.`라는 에러 메시지를 출력한다.
        (3) 특별 할인 혜택 계산하기
            - 방법
                - 날짜 클래스 인스턴스를 받아 할인 금액을 반환하는 함수 만들기
                - EX ) calculateSpecialDiscount(17); // 1000 or 0
            - 로직
                - 날짜를 받아 할인 적용 날짜(3일, 10일, 17일, 24일, 25일, 31일 중 하나)인지 판단하고 
                    &rarr;맞다면, 1,000원 할인
                    &rarr;아니면, 0원 할인
            - 예외 처리
                - 인수가 날짜 클래스 인스턴스가 아닌 경우, `[ERROR] 유효하지 않은 날짜입니다. 관리자에게 문의하세요.`라는 메시지를 출력한다. 
        (4) 증정 이벤트 혜택 계산하기
            - 방법
                - 총 주문 금액을 받아 증정 메뉴 증정 여부를 판단하여 증정 혜택을 계산하는 함수 만들기
                - `calculateGiftMenuDiscount(130000); // 25,000 or 0
            - 로직
                - 총 주문 금액이 
                    &rarr;12만원 이상인 경우, 25,000원 혜택
                    &rarr;12만원 미만인 경우, 0원 혜택
            - 예외 처리
                - 인수가 숫자가 아니거나 0 미만의 숫자인 경우 에러를 발생시키고`[ERROR] 유효하지 않은 총 주문 금액입니다. 관리자에게 문의하세요`라는 에러 메시지를 출력한다.
                - 인수가 정수 범위 밖의 숫자인 경우 에러를 발생시키고 `[ERROR] 총 주문 금액이 너무 큽니다. 관리자에게 문의하세요`라는 에러 메시지를 출력한다.
                
    (2) 제목과 혜택 내역 출력하기
        - 방법
            - 2.(0).2 에서 만든 `OutputView`에 함수를 만들어 출력한다.
            - EX ) `OutputView.showDiscountList(discount);` // Discount는 혜택 관련 클래스
        - 예외 처리 
            - 첫 번째 인수가 혜택 클래스 인스턴스가 아닌 경우 에러를 발생시키고, `[ERROR] 유효한 혜택 내역이 아닙니다. 관리자에게 문의하세요.`라는 에러 메시지를 출력한다.
#### (4)-6 총 혜택 금액 출력
- 동작 예시
    ```
    <총혜택 금액>
    -31,246원
    ```
- 구현
    (1) 총 혜택 금액 계산하기
        - 방법
            - 크리스마스 디데이 할인 금액, 주말/평일 할인 금액, 특별 할인 금액, 증정 이벤트 혜택 금액을 인수로 받아 총 혜택 금액을 계산하는 함수 만들기
            - EX ) calculateTotalDiscount(1000,0,25000,0); 
    (2) 제목과 총 혜택 금액 출력하기
        - 방법
            - 제목으로 사용할 문자열과 <1>에서 계산한 총 혜택 금액 값을 인수로 받아 문구로 출력하는 함수를 2.(0).<2>에서 만든 `OutputView`에 만든다.
            - EX ) `OutputView.showTotalDiscount('총혜택 금액', '-31,246원');
#### (4)-7 할인 후 예상 결제 금액 출력
- 동작 예시
    ```
    <할인 후 예상 결제 금액>
    135,754원
    ```
- 구현
    (1) 할인 후 예상 결제 금액 계산하기
        - 방법
            - (4)-3에서 계산한 할인 전 총 주문 금액과 총 혜택 금액을 인수로 받아 할인 후 예상 금액을 반환하는 함수 만들기
            - EX ) `calculateFinalPaymentAmount(totalAmountBeforeDiscount,totalDiscount);`
    (2) 제목과 할인 후 예상 결제 금액 출력하기 
        - 방법
            - 제목으로 사용할 문자열과 <1>에서 계산한 총 혜택 금액 값을 인수로 받아 문구로 출력하는 함수를 2.(0).<2>에서 만든 `OutputView`에 만든다.
            - EX ) `OutputView.showFinalPaymentAmount('총혜택 금액', '-31,246원');
#### (4)-8 12월 이벤트 배지 출력
- 동작 예시
    ```
    <12월 이벤트 배지>
    산타
    ```
    또는
    ```
    <12월 이벤트 배지>
    없음
    ```
- 구현
    (1) 12월 이벤트 배지 종류 파악
        - 방법
            - 총 혜택 금액이 (4)-6에서 계산한 총 혜택 금액을 인수로 받아 12월 이벤트 배지를 알아내는 함수 만들기
            - EX ) `calculateDecemberPromotionBadge(TotalDiscount);`
        - 로직
            - 총 혜택 금액이 
                &rarr;5천 원 이상인 경우, 별
                &rarr;1만 원 이상인 경우, 트리
                &rarr;2만 원 이상인 경우, 산타
        - 예외 처리
            - 총 혜택 금액이 숫자가 아닌 경우 에러를 발생시키고, `[ERROR] 유효한 총 혜택 금액이 아닙니다. 관리자에게 문의하세요.`라는 에러 메시지를 출력한다.
    (2) 제목과 12월 이벤트 배지 출력하기
        - 방법
            - 제목으로 사용할 문자열과 <1> 에서 얻은 12월 이벤트 배지를 입력받아 문구로 출력하는 함수를 2.(0).<2>에서 만든 `OutputView`에 만든다.
            - EX ) `OutputView.showDecemberPromotionBadge('12월 이벤트 배지', '산타');
    
